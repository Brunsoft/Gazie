Title:
Ne quid nimis.

Presentation:
1) A pochi giorni dal rilascio della versione 6.0 sono ancora qui a scrivere per un nuova versione stabile; non è un eccesso, ma solo la volontà di inseguire la frenetica ricerca di semplificazione intrapresa dalla pubblica amministrazione in questo periodo. Ci sono riuscito malgrado tutto, nei tempi e nei modi previsti e senza troppi fronzoli, con molto pragmatismo e anche con poco lavoro, senza farmi distrarre dalle complicazioni ho risolto il problema split payment in breve semplicemente introducendo una nuova tipologia di IVA che ho indicato con la lettera "T". Facendo questo ho contemporaneamente dovuto inserire in configurazione azienda e sul piano dei conti un nuovo conto transitorio denominato "IVA Split Payment PA", serve per movimentare, e quindi evidenziare, il debito relativo all'IVA non più di competenza aziendale ma stornato al cliente stesso. E' altrettanto evidente che i clienti della pubblica amministrazione che si avvalgono di questa opportunità dovranno avere nella loro anagrafica indicato il campo "Riduzione I.V.A." con la nuova aliquota introdotta automaticamente nel database assieme al conto citato in  fase di aggiornamento/allineamento alla versione. Per ottenere il massimo dalla automazione è stato previsto che in fase di contabilizzazione dei documenti con aliquote di tipo "T" alias "Split Payment PA" GAzie provvederà a stornare l'IVA sul nuovo conto ed anche a ridurre il credito verso il cliente per lo stesso importo. Anche questa volta, purtroppo, solo i templates originali di default vi permetteranno di stampare il pdf con i calcoli giusti, non ho potuto fare diversamente: questo aggiornamento forzerà al loro uso. Per quelli (come me) che ne hanno di personalizzati dovranno rifare le modifiche a partire dai nuovi e originali, ma solo delle fatture di vendita (semplice e immediata/accompagnatoria). 
2) C'era da aspettarsi che anche il tracciato XML della fattura elettronica PA avrebbe subito un aggiornamento, erano troppe le lacune. La nuova versione 1.1 ha apportato, ad esempio, un aumento della lunghezza delle descrizioni sui righi; mi aspettavo qualcosa di meglio visto che capita di fare delle fatture con descrizioni molto corpose ed anche gli attuali 1000 caratteri potrebbero risultare limitanti, con GAzie ho aggirato il problema usando gli elementi "AltriDatiGestionali"(2.2.1.16). Insomma: avrei preferito che si accettasse una descrizione di almeno 16kbyte... In più ho adeguato il tracciato nella parte relativa ai bolli oltre che, ovviamente, aggiungere al tracciato il suddetto split payment PA.
3) Metto in evidenza un problema abbastanza fastidioso segnalato e risolto da Marco Rimoldi che ringrazio pubblicamente: il bug introdotto dalla 6.0 che impediva di ricordare gli effetti già emessi riproponendoli per una nuova emissione. Allora consiglio vivamente di aggiornare a questa nuova versione prima di emmettere nuovi effetti, per evitare di dover cancellare a manina i doppioni che si genereranno!

Other:
Diverse migliorie e correzioni di piccoli bug sono stati operati dalle persone che ho nominato sulla precedente lettera di presentazione, ad essi si è aggiunto il già citato Marco Rimoldi e Luca Di Massimo che hanno apportato alcune correzioni direttamente sul repository. Sia il forum che l'SVN dalla [r765] in poi sono a testimonianza/memoria.

Milestone:
E' mia intenzione preporre l'astrazione del database e della rivisitazione del sistema di login a tutti i lavori di aggiunta di funzionalità citati nella precedente presentazione. Allora il passaggio a PDO lo ritengo prioritario, un investimento a lungo termine, e questa sarà una modifica molto invasiva, con un elevatissimo rischio di introduzione di errori, sono determinato: "questo matrimonio sa da fare" costi anche un periodo lunghissimo di debug. I tests (Phpunit) inseriti da poco sul branch di sviluppo da Daniele Frulla ci potranno aiutare in questa opera molto, molto impegnativa. 

Thanks:
Un ringraziamento pubblico a tutti quelli che quotidianamente partecipano in qualche modo al miglioramento del software e delle nostre conoscenze.
 
Antonio de Vincentiis, Montesilvano, 10 Febbraio 2015